(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{99840:function(e,t,n){"use strict";n.d(t,{I:function(){return f}});var r=n(4965),a=n(88802),o=n(55466),i=n(64767),u=n(52983),s=n(10840),l=n(56567),d=n(66424),c=function(e){var t=e.cooldownDays;return{steps:[{label:"Approve transaction to unstake",description:"To unstake LINK in v0.2, please confirm the transaction in your Web3 wallet.",id:"approveUnbonding",isCloseHidden:!0},{label:"Pending confirmation",description:"Your transaction has been sent to the Ethereum Network and is currently awaiting confirmation.",id:"approveUnbondingWait",isCloseHidden:!0}],successBody:"Your staked LINK has entered the cooldown period. You will be able to withdraw your LINK in ".concat(t," days, otherwise the LINK will be automatically restaked without penalties."),successHeading:"Transaction confirmed",context:"unbond"}};function f(e){var t=e.network,n=e.wallet,f=e.useTransactionModal,p=(0,d.H)({network:t,wallet:n}),h=p.contractState,_=p.operatorStakingPoolContract,m=p.communityStakingPoolContract,v=p.linkContract,b=(0,i.useRouter)();function y(){return(y=(0,r._)(function(){var e,t,r,o,i,u,d,p,y;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(!n.isConnected)throw Error("Wallet must be connected");if(!v)throw Error("Link contract not found");if(!_)throw Error("operatorStakingPoolContract not found");if(!m)throw Error("communityStakingPoolContract not found");if(!f)throw Error("useTransactionalModal not found");return t=f.startTransaction,r=f.handleTransactionError,o=f.onChainAction,i=f.completeTransaction,[4,h.refetch()];case 1:d=(null===(e=(u=a.sent()).data)||void 0===e?void 0:e.isNodeOperator)?_:m,a.label=2;case 2:return a.trys.push([2,5,,6]),t(c({cooldownDays:(0,l.C)(null===(p=u.data)||void 0===p?void 0:p.unbondingParams[0])})),[4,o(function(){return d.unbond()})];case 3:return a.sent(),[4,i({closeButtonCallback:function(){h.refetch(),b.push((0,s.po)("/"))}})];case 4:return a.sent(),[3,6];case 5:return y=a.sent(),r(y).catch(function(){}),[3,6];case 6:return[2]}})})).apply(this,arguments)}var g=(0,u.useMemo)(function(){return!!h.data&&!!(h.data.stakedAmount.gt(0)&&(h.data.unbondingEndsAt.eq(0)||h.data.claimPeriodEndsAt<Date.now()/1e3))},[h.data]),w=(0,u.useMemo)(function(){if(!h.data||h.data.unbondingEndsAt.eq(0))return!1;var e=Math.floor(new Date().getTime()/1e3);return h.data.unbondingEndsAt.gt(o.O$.from(e))},[h.data]);return{contractState:h,isUnbondingEnabled:g,isCooldownPeriodActive:w,handleV2Unbonding:function(){return y.apply(this,arguments)}}}},12845:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(97458);n(52983);var a=n(82001),o=n.n(a),i=function(e){var t=e.value,n=e.max,a=e.showIndicator,i=e.baseBarColor,u=e.progressBarColor,s=0===n?0:t/n*100;return(0,r.jsx)("div",{className:o().container,children:(0,r.jsxs)("div",{className:o().base,style:{backgroundColor:i},children:[(0,r.jsx)("div",{className:o().progress,style:{width:"".concat(s,"%"),minWidth:0===s?0:"10px",maxWidth:100===s?"100%":"calc(100% - 10px)",borderTopRightRadius:100===s?"100px":"0",borderBottomRightRadius:100===s?"100px":"0",backgroundColor:u}}),a&&0<s&&s<100&&(0,r.jsx)("div",{className:o().indicator})]})})}},70761:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(97458);n(52983);var a=n(73457),o=n(24755),i=n(94448),u=n(42714),s=n.n(u);function l(e){var t=e.variableRewardRate,n=e.floorRewardRate;return(0,r.jsxs)("section",{className:(0,o.W)("card",s().rewardCard),style:{marginTop:"var(--space-4x)"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"heading-200",children:"Youâ€™ll miss out on rewards if you decide to unstake"}),(0,r.jsx)("p",{className:"paragraph-200",style:{marginBottom:0},children:"Continue earning LINK rewards by keeping your LINK staked."})]}),(0,r.jsxs)("section",{className:"card",children:[(0,r.jsxs)("div",{className:"paragraph-200",style:{marginBottom:0},children:["Variable reward rate",(0,r.jsx)("span",{style:{display:"inline-block",marginLeft:"var(--space-1x)"},children:(0,r.jsx)(a.u,{tip:"The v0.2 staking reward rate is variable and depends on the total amount of LINK staked in the pool. With a full pool, the current floor rate is ".concat(n),children:(0,r.jsx)("img",{src:(0,i.m_)("info")})})})]}),(0,r.jsx)("div",{style:{fontSize:"var(--space-6x)",color:"var(--color-text-value)"},children:t})]})]})}},56567:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r=function(e){return Math.floor(e.toString()/86400)}},65297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45548),a=n(91640);Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{noSSR:function(){return s},default:function(){return l}});var o=n(83166),i=(n(52983),o._(n(48979)));function u(e){return{default:(null==e?void 0:e.default)||e}}function s(e,t){return delete t.webpack,delete t.modules,e(t)}function l(e,t){var n=i.default,o={loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};e instanceof Promise?o.loader=function(){return e}:"function"==typeof e?o.loader=e:"object"==typeof e&&(o=r._({},o,e));var l=(o=r._({},o,t)).loader;return(o.loadableGenerated&&(o=r._({},o,o.loadableGenerated),delete o.loadableGenerated),"boolean"!=typeof o.ssr||o.ssr)?n(a._(r._({},o),{loader:function(){return null!=l?l().then(u):Promise.resolve(u(function(){return null}))}})):(delete o.webpack,delete o.modules,s(n,o))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});var r=n(83166)._(n(52983)).default.createContext(null)},48979:function(e,t,n){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/Object.defineProperty(t,"__esModule",{value:!0});var r=n(43189),a=n(4220),o=n(45548),i=n(91640);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var u=n(83166)._(n(52983)),s=n(1801),l=[],d=[],c=!1;function f(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var p=function(){function e(t,n){r._(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return a._(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=o._(i._(o._({},this._state),{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading}),e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function h(e){return function(e,t){var n=function(){if(!i){var t=new p(e,o);i={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return i.promise()},r=function(){n();var e=u.default.useContext(s.LoadableContext);e&&Array.isArray(o.modules)&&o.modules.forEach(function(t){e(t)})},a=function(e,t){r();var n=u.default.useSyncExternalStore(i.subscribe,i.getCurrentValue,i.getCurrentValue);return u.default.useImperativeHandle(t,function(){return{retry:i.retry}},[]),u.default.useMemo(function(){var t;return n.loading||n.error?u.default.createElement(o.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:i.retry}):n.loaded?u.default.createElement((t=n.loaded)&&t.default?t.default:t,e):null},[e,n])},o=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),i=null;if(!c){var l=o.webpack?o.webpack():o.modules;l&&d.push(function(e){var t=!0,r=!1,a=void 0;try{for(var o,i=l[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;if(e.includes(u))return n()}}catch(e){r=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}})}return a.preload=function(){return n()},a.displayName="LoadableComponent",u.default.forwardRef(a)}(f,e)}function _(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return _(e,t)})}h.preloadAll=function(){return new Promise(function(e,t){_(l).then(e,t)})},h.preloadReady=function(e){return void 0===e&&(e=[]),new Promise(function(t){var n=function(){return c=!0,t()};_(d,e).then(n,n)})},window.__NEXT_PRELOADREADY=h.preloadReady;var m=h},82001:function(e){e.exports={container:"progressBar_container___TVCf",base:"progressBar_base__0rvsd",indicator:"progressBar_indicator__tdr9k",progress:"progressBar_progress__D4Vjf"}},42714:function(e){e.exports={container:"Unstake_container__8YMFv container",rewardCard:"Unstake_rewardCard__3VGEK",unstakeCta:"Unstake_unstakeCta__BNvcr",alert:"Unstake_alert__JRjSv"}},39452:function(e,t,n){e.exports=n(65297)}}]);